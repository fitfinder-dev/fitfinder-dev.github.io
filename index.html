<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FitFinder Redirect</title>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Replace with your app's custom URL scheme and App Store link
      const appUrl = "fitfinder://"; // Replace with your app's custom scheme (e.g., fitfinder://)
      const appStoreUrl = "https://apps.apple.com/us/app/fitfinder/id6483939610"; // Replace with your App Store link

      // Create a timeout to redirect to the App Store if the app doesn't open
      const fallbackTimeout = setTimeout(() => {
        window.location.href = appStoreUrl;
      }, 1500); // Wait 1.5 seconds

      // Attempt to open the app using an iframe
      const iframe = document.createElement("iframe");
      iframe.style.display = "none"; // Hide the iframe
      iframe.src = appUrl;
      document.body.appendChild(iframe);

      // Clear the fallback if the user navigates away from the page (indicating the app opened)
      window.addEventListener("blur", () => {
        clearTimeout(fallbackTimeout);
        // Optional: Close the window if the app opened successfully
        try {
          window.close();
        } catch (e) {
          console.log("Unable to close the window: ", e);
        }
      });
    });
  </script>
</head>
<body>
  <h1>Redirecting...</h1>
  <p>If you are not redirected automatically, <a id="fallback-link" href="#">click here</a>.</p>
  <script>
    // Update the fallback link
    document.getElementById("fallback-link").href = "https://apps.apple.com/us/app/fitfinder/id6483939610"; // Replace with your App Store link
  </script>
</body>
</html>
