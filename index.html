<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FitFinder Redirect</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap" rel="stylesheet">
  <style>
    /* General Reset */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      background-color: #045aff; /* FitFinder blue */
      color: #000000;
      position: relative;
    }

    /* Centered Card */
    .card {
      background: #ffffff;
      color: #0f172a;
      padding: 2rem;
      border-radius: 24px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
      text-align: center;
      max-width: 400px;
      width: 90%;
    }

    /* Title and Text */
    .card h1 {
      margin: 0 0 1rem;
      font-size: 1.8rem;
      letter-spacing: -1px;
    }

    .card p {
      margin: 0 0 1.5rem;
      font-size: 1rem;
      line-height: 1.5;
      color: #475569;
    }

    /* Button */
    .card a {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.8rem 1.2rem;
      background-color: #045aff;
      color: #ffffff;
      border-radius: 50px; /* Fully rounded button */
      text-decoration: none;
      font-size: 1rem;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }

    .card a:hover {
      background-color: #003d99;
    }

    /* Logo Styling */
    .logo {
      margin-top: 2rem;
      width: 150px;
      height: auto;
      position: absolute;
      bottom: 20px;
    }
  </style>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const userId = window.location.hash.substring(1);
      if (userId && isValidUUID(userId)) {
        const props = JSON.stringify({ id: userId });
        const encodedProps = encodeURIComponent(props);
        const appUrl = `fitfinder://trainer/${encodedProps}`;
        const appStoreUrl = "https://apps.apple.com/us/app/fitfinder/id6483939610";

        const fallbackTimeout = setTimeout(() => {
          window.location.href = appStoreUrl;
          closeWindow();
        }, 8000);

        window.location.href = appUrl;

        window.addEventListener("visibilitychange", () => {
          if (document.visibilityState === "hidden") {
            clearTimeout(fallbackTimeout);
            closeWindow();
          }
        });
      } else {
        console.error("Invalid or missing user ID.");
      }

      function isValidUUID(uuid) {
        const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;
        return uuidRegex.test(uuid);
      }

      function closeWindow() {
        try {
          window.close();
        } catch (e) {
          console.log("Unable to close the window: ", e);
        }
      }
    });
  </script>
</head>
<body>
  <div class="card">
    <svg class="loader" width="36" height="36" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <style>
        .spinner_qM83 { animation: spinner_8HQG 1.05s infinite; fill: #0052cc; } /* FitFinder blue */
        .spinner_oXPr { animation-delay: .1s; }
        .spinner_ZTLf { animation-delay: .2s; }
        @keyframes spinner_8HQG {
          0%, 57.14% { animation-timing-function: cubic-bezier(0.33, .66, .66, 1); transform: translate(0); }
          28.57% { animation-timing-function: cubic-bezier(0.33, 0, .66, .33); transform: translateY(-6px); }
          100% { transform: translate(0); }
        }
      </style>
      <circle class="spinner_qM83" cx="4" cy="12" r="3" />
      <circle class="spinner_qM83 spinner_oXPr" cx="12" cy="12" r="3" />
      <circle class="spinner_qM83 spinner_ZTLf" cx="20" cy="12" r="3" />
    </svg>
    <p></p>
        <h1>Redirecting to FitFinder...</h1>
    <p>If you are not redirected automatically after 5 seconds, click the button below to download the app.</p>
    <a id="fallback-link" href="https://apps.apple.com/us/app/fitfinder/id6483939610">Download FitFinder</a>
  </div>
  <svg class="logo" preserveAspectRatio="xMidYMid meet" data-bbox="-0.15 20.188 863.872 173.811" xmlns="http://www.w3.org/2000/svg" viewBox="-0.15 20.188 863.872 173.811" height="230" width="865" data-type="color" role="presentation" aria-hidden="true" aria-label="">
      <g>
          <g clip-path="url(#6b8af242-18b6-40cd-b534-c502bc3c283a_comp-kbgakxmn_r_comp-m423iqlf)">
              <path fill="#ffffff" d="m17.572 190.948 51.334-51.492 28.178-30.412c-1.596-10.926 1.798-22.633 10.669-31.117l12.908-12.337-3.79-1.987-22.334 11.201a20.268 20.268 0 0 1-15.716 1.058l-9.906 9.467c-7.548 7.22-9.561 17.705-6.55 26.699L2.621 176.51c-3.802 4.1-3.676 10.481.279 14.438a10.344 10.344 0 0 0 14.672 0Z" data-color="1"></path>
              <path fill="#ffffff" d="m75.923 31.571 6.672 3.495-6.293 3.156c-6.703 3.362-10.753 9.928-11.227 16.922L44.11 65.66c-5.036 2.525-11.16.478-13.677-4.573-2.518-5.05-.477-11.194 4.559-13.719l31.654-15.876a10.09 10.09 0 0 1 4.638-1.078c1.592.014 3.192.396 4.639 1.158Z" data-color="1"></path>
              <path fill="#ffffff" d="M170.02 29.774a30.754 30.754 0 0 0-1.754 14.603l-31.464-16.479a20.353 20.353 0 0 1 15.947-7.71 20.355 20.355 0 0 1 14.415 5.99 20.468 20.468 0 0 1 2.856 3.596Z" data-color="1"></path>
              <path fill="#ffffff" d="M184.124 26.178a20.353 20.353 0 0 1 14.415-5.99 20.353 20.353 0 0 1 14.415 5.99 20.481 20.481 0 0 1 5.971 14.46 20.481 20.481 0 0 1-5.971 14.459 20.353 20.353 0 0 1-14.415 5.99 20.353 20.353 0 0 1-14.415-5.99 20.481 20.481 0 0 1-5.971-14.46 20.481 20.481 0 0 1 5.971-14.46Z" data-color="1"></path>
              <path fill="#ffffff" d="M106.51 76.627c-9.085 8.69-12.698 20.601-11.32 31.816L67.61 138.21l-51.311 51.469a8.546 8.546 0 0 1-12.126 0l-.002-.002c-3.273-3.275-3.375-8.555-.232-11.944l.001-.001 60.469-65.264-.339-1.011c-2.805-8.377-.925-18.12 6.088-24.828l9.136-8.733a22.055 22.055 0 0 0 16.049-1.485l21.51-10.787.756.396-11.099 10.607Zm10.361-13.024L94.537 74.804a20.268 20.268 0 0 1-15.716 1.058l-9.906 9.467c-7.548 7.22-9.561 17.705-6.55 26.699L2.621 176.51c-3.802 4.1-3.676 10.481.279 14.438a10.344 10.344 0 0 0 14.672 0l51.334-51.492 28.178-30.412c-1.596-10.926 1.798-22.633 10.669-31.117l12.908-12.337-3.79-1.987Zm-81.88-16.236 31.655-15.876a10.09 10.09 0 0 1 4.638-1.078c1.592.014 3.192.396 4.639 1.158l6.672 3.495-6.293 3.156c-6.703 3.362-10.753 9.928-11.227 16.922L44.11 65.66c-5.036 2.525-11.16.478-13.677-4.573-2.518-5.05-.477-11.194 4.559-13.719Zm40.095-14.205 3.568 1.869-3.158 1.584c-6.964 3.492-11.292 10.161-12.12 17.37L43.304 64.052c-4.144 2.078-9.187.395-11.262-3.768-2.077-4.166-.39-9.23 3.756-11.31L67.452 33.1l.002-.002a8.293 8.293 0 0 1 3.815-.886 8.366 8.366 0 0 1 3.817.951Zm90.804-5.715a18.604 18.604 0 0 1 2.134 2.562 32.543 32.543 0 0 0-1.777 11.28l-26.568-13.914a18.555 18.555 0 0 1 13.07-5.389c4.928 0 9.655 1.964 13.141 5.461Zm2.148 13.19a30.898 30.898 0 0 0 .228 3.74l-31.464-16.479a20.712 20.712 0 0 1 1.532-1.72 20.353 20.353 0 0 1 14.415-5.99 20.355 20.355 0 0 1 14.415 5.99 20.468 20.468 0 0 1 2.856 3.596 30.754 30.754 0 0 0-1.982 10.863Zm17.36-13.19a18.554 18.554 0 0 1 13.141-5.46c4.928 0 9.656 1.963 13.142 5.46a18.684 18.684 0 0 1 5.446 13.19c0 4.949-1.96 9.693-5.446 13.19a18.556 18.556 0 0 1-13.142 5.461 18.554 18.554 0 0 1-13.141-5.46 18.681 18.681 0 0 1-5.447-13.19 18.68 18.68 0 0 1 5.447-13.19Zm13.141-7.258a20.353 20.353 0 0 0-14.415 5.989 20.481 20.481 0 0 0-5.971 14.46 20.481 20.481 0 0 0 5.971 14.459 20.353 20.353 0 0 0 14.415 5.99 20.353 20.353 0 0 0 14.415-5.99 20.481 20.481 0 0 0 5.971-14.46 20.481 20.481 0 0 0-5.971-14.46 20.353 20.353 0 0 0-14.415-5.988ZM77.833 60.284c-2.077-4.166-.391-9.23 3.755-11.31l31.657-15.877a8.29 8.29 0 0 1 3.814-.886 8.365 8.365 0 0 1 3.817.951l.003.002 45.45 23.803a18.609 18.609 0 0 1 8.005 8.196l17.972 36.034 24.072-10.833c4.225-1.9 9.17-.014 11.08 4.229 1.909 4.25.015 9.241-4.214 11.143l-31.415 14.138-.002.001-.003.001a8.34 8.34 0 0 1-10.927-3.897v-.001l-12.744-25.545-22.616 21.215 19.997 25.299.001.001c2.659 3.357 2.362 8.196-.692 11.227h-.001l-34.698 34.406c-3.302 3.27-8.613 3.243-11.867-.063-3.26-3.312-3.229-8.639.083-11.919l29.386-29.16-23.17-14.44-62.487 62.68a8.546 8.546 0 0 1-12.125 0l-.002-.002c-3.273-3.275-3.375-8.555-.232-11.944v-.001l60.47-65.264-.339-1.011c-2.805-8.377-.925-18.12 6.087-24.828h.001l25.022-23.916L116.914 50.1l-27.82 13.953c-4.143 2.078-9.186.395-11.261-3.768Z" clip-rule="evenodd" fill-rule="evenodd" data-color="1"></path>
          </g>
          <path fill="#ffffff" d="m314.144 78.192-1.872 23.328h35.136c6.528 0 9.792 2.688 9.792 8.064 0 3.456-.912 5.952-2.736 7.488-1.824 1.44-4.656 2.16-8.496 2.16h-34.992l-2.592 32.544c-.288 3.36-1.488 6.048-3.6 8.064s-4.848 3.024-8.208 3.024c-3.36 0-6-1.008-7.92-3.024-1.92-2.112-2.736-4.848-2.448-8.208l6.336-80.64c.288-3.36 1.392-5.952 3.312-7.776 2.016-1.824 4.704-2.736 8.064-2.736h49.536c6.624 0 9.936 2.784 9.936 8.352 0 3.36-.912 5.76-2.736 7.2-1.824 1.44-4.656 2.16-8.496 2.16h-38.016Zm62.828 84.672c-3.168 0-5.76-.864-7.776-2.592-1.92-1.728-2.736-4.272-2.448-7.632l4.176-52.56c.288-3.36 1.536-5.904 3.744-7.632 2.304-1.728 4.992-2.592 8.064-2.592s5.568.864 7.488 2.592c1.92 1.728 2.736 4.272 2.448 7.632l-4.176 52.56c-.288 3.36-1.536 5.904-3.744 7.632-2.112 1.728-4.704 2.592-7.776 2.592Zm7.488-84.528c-3.84 0-6.864-.96-9.072-2.88-2.208-2.016-3.312-4.704-3.312-8.064 0-3.36 1.104-6 3.312-7.92 2.208-1.92 5.232-2.88 9.072-2.88 3.744 0 6.72 1.008 8.928 3.024 2.304 1.92 3.456 4.512 3.456 7.776 0 3.36-1.104 6.048-3.312 8.064-2.208 1.92-5.232 2.88-9.072 2.88Zm47.937 55.872-.144 2.304c0 7.104 3.072 10.656 9.216 10.656 1.056 0 2.112-.048 3.168-.144 1.056-.192 2.016-.288 2.88-.288 1.44 0 2.592.672 3.456 2.016.96 1.248 1.44 2.88 1.44 4.896 0 3.456-1.2 5.904-3.6 7.344-2.304 1.44-6.432 2.16-12.384 2.16-8.352 0-14.784-2.16-19.296-6.48-4.416-4.32-6.624-10.512-6.624-18.576 0-1.728.048-3.024.144-3.888l2.16-26.64h-5.616c-2.976 0-5.28-.672-6.912-2.016-1.536-1.344-2.304-3.264-2.304-5.76 0-5.664 3.456-8.496 10.368-8.496h5.76l.864-11.232c.288-3.168 1.488-5.664 3.6-7.488 2.112-1.824 4.848-2.736 8.208-2.736 3.36 0 5.904.912 7.632 2.736 1.824 1.824 2.592 4.32 2.304 7.488l-.864 11.232h10.08c2.88 0 5.088.672 6.624 2.016 1.632 1.344 2.448 3.216 2.448 5.616 0 5.76-3.408 8.64-10.224 8.64h-10.224l-2.16 26.64Zm56.696-56.016-1.872 23.328h35.136c6.528 0 9.792 2.688 9.792 8.064 0 3.456-.912 5.952-2.736 7.488-1.824 1.44-4.656 2.16-8.496 2.16h-34.992l-2.592 32.544c-.288 3.36-1.488 6.048-3.6 8.064s-4.848 3.024-8.208 3.024c-3.36 0-6-1.008-7.92-3.024-1.92-2.112-2.736-4.848-2.448-8.208l6.336-80.64c.288-3.36 1.392-5.952 3.312-7.776 2.016-1.824 4.704-2.736 8.064-2.736h49.536c6.624 0 9.936 2.784 9.936 8.352 0 3.36-.912 5.76-2.736 7.2-1.824 1.44-4.656 2.16-8.496 2.16h-38.016Zm62.828 84.672c-3.168 0-5.76-.864-7.776-2.592-1.92-1.728-2.736-4.272-2.448-7.632l4.176-52.56c.288-3.36 1.536-5.904 3.744-7.632 2.304-1.728 4.992-2.592 8.064-2.592s5.568.864 7.488 2.592c1.92 1.728 2.736 4.272 2.448 7.632l-4.176 52.56c-.288 3.36-1.536 5.904-3.744 7.632-2.112 1.728-4.704 2.592-7.776 2.592Zm7.488-84.528c-3.84 0-6.864-.96-9.072-2.88-2.208-2.016-3.312-4.704-3.312-8.064 0-3.36 1.104-6 3.312-7.92 2.208-1.92 5.232-2.88 9.072-2.88 3.744 0 6.72 1.008 8.928 3.024 2.304 1.92 3.456 4.512 3.456 7.776 0 3.36-1.104 6.048-3.312 8.064-2.208 1.92-5.232 2.88-9.072 2.88Zm63.158 11.232c7.872 0 13.824 2.208 17.856 6.624 4.032 4.32 6.048 10.704 6.048 19.152 0 2.016-.048 3.552-.144 4.608l-2.592 32.688c-.288 3.168-1.488 5.664-3.6 7.488-2.016 1.824-4.704 2.736-8.064 2.736-3.36 0-5.952-.912-7.776-2.736-1.824-1.824-2.592-4.32-2.304-7.488l2.592-31.824c.384-4.704-.384-8.256-2.304-10.656-1.824-2.4-4.704-3.6-8.64-3.6-4.512 0-8.064 1.44-10.656 4.32-2.592 2.784-4.08 6.624-4.464 11.52l-2.448 30.24c-.288 3.168-1.488 5.664-3.6 7.488-2.016 1.824-4.656 2.736-7.92 2.736-3.36 0-5.952-.912-7.776-2.736-1.824-1.824-2.64-4.32-2.448-7.488l4.176-52.848c.192-2.976 1.392-5.376 3.6-7.2 2.208-1.824 4.992-2.736 8.352-2.736 3.072 0 5.424.864 7.056 2.592 1.728 1.728 2.496 4.032 2.304 6.912v.144c2.496-3.168 5.712-5.616 9.648-7.344 3.936-1.728 8.304-2.592 13.104-2.592ZM721.6 59.76c3.36 0 6 .912 7.92 2.736 1.92 1.824 2.784 4.224 2.592 7.2l-6.624 82.944c-.096 3.072-1.2 5.568-3.312 7.488-2.016 1.824-4.656 2.736-7.92 2.736-3.168 0-5.664-.864-7.488-2.592-1.824-1.728-2.688-4.08-2.592-7.056-2.304 3.168-5.328 5.616-9.072 7.344-3.648 1.728-7.728 2.592-12.24 2.592-5.952 0-11.232-1.344-15.84-4.032-4.512-2.784-8.016-6.72-10.512-11.808-2.496-5.184-3.744-11.232-3.744-18.144 0-7.68 1.392-14.496 4.176-20.448 2.88-6.048 6.864-10.752 11.952-14.112 5.088-3.36 10.944-5.04 17.568-5.04 9.504 0 16.656 3.456 21.456 10.368l2.448-30.672c.192-2.88 1.296-5.184 3.312-6.912 2.112-1.728 4.752-2.592 7.92-2.592Zm-31.392 86.976c4.992 0 8.928-1.968 11.808-5.904 2.976-3.936 4.464-9.168 4.464-15.696 0-6.24-1.344-10.992-4.032-14.256-2.688-3.264-6.528-4.896-11.52-4.896-5.184 0-9.264 1.968-12.24 5.904-2.88 3.84-4.32 9.168-4.32 15.984 0 6.048 1.344 10.704 4.032 13.968 2.784 3.264 6.72 4.896 11.808 4.896Zm112.504-22.608c0 2.112-.576 3.744-1.728 4.896-1.152 1.152-2.688 1.728-4.608 1.728H756.2c.864 10.752 6.768 16.128 17.712 16.128 3.072 0 5.76-.336 8.064-1.008 2.304-.672 4.848-1.728 7.632-3.168 1.344-.672 2.64-1.008 3.888-1.008 1.824 0 3.264.72 4.32 2.16 1.152 1.44 1.728 3.168 1.728 5.184 0 1.632-.384 3.216-1.152 4.752-.672 1.44-1.776 2.64-3.312 3.6-2.592 1.728-5.952 3.12-10.08 4.176a50.928 50.928 0 0 1-12.672 1.584c-7.392 0-13.872-1.44-19.44-4.32-5.568-2.88-9.888-6.912-12.96-12.096-3.072-5.28-4.608-11.376-4.608-18.288 0-7.488 1.536-14.16 4.608-20.016 3.072-5.952 7.296-10.56 12.672-13.824 5.472-3.36 11.664-5.04 18.576-5.04 10.08 0 17.856 3.024 23.328 9.072 5.472 6.048 8.208 14.544 8.208 25.488Zm-30.816-19.584c-8.544 0-13.632 5.136-15.264 15.408h27.936c0-4.992-1.104-8.784-3.312-11.376-2.112-2.688-5.232-4.032-9.36-4.032Zm83.55-14.688c2.688-.192 4.8.48 6.336 2.016 1.536 1.536 2.16 3.744 1.872 6.624-.288 3.264-1.248 5.664-2.88 7.2-1.632 1.44-4.416 2.352-8.352 2.736l-3.888.432c-5.856.672-10.032 2.256-12.528 4.752-2.4 2.4-3.84 6.24-4.32 11.52l-2.16 27.504c-.288 3.36-1.536 5.904-3.744 7.632-2.112 1.728-4.704 2.592-7.776 2.592-3.168 0-5.76-.864-7.776-2.592-1.92-1.728-2.736-4.272-2.448-7.632l4.176-52.848c.288-3.168 1.536-5.616 3.744-7.344 2.304-1.728 4.944-2.592 7.92-2.592 2.88 0 5.184.864 6.912 2.592 1.728 1.632 2.496 3.936 2.304 6.912l-.144 1.728c2.592-3.36 5.76-5.952 9.504-7.776 3.744-1.92 7.632-3.024 11.664-3.312l1.584-.144Z" data-color="1"></path>
          <defs fill="none">
              <clipPath id="6b8af242-18b6-40cd-b534-c502bc3c283a_comp-kbgakxmn_r_comp-m423iqlf">
                  <path fill="#ffffff" d="M230 0v230H0V0h230z"></path>
              </clipPath>
          </defs>
      </g>
  </svg>
</body>
</html>
